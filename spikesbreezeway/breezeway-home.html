<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sat Mar 04 2023 20:53:20 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="63a122635b0fe68fd33e0b8e" data-wf-site="639024fd069fb03ef637fdfb">
<head>
  <meta charset="utf-8">
  <title>Breezeway Home</title>
  <meta content="Breezeway Home" property="og:title">
  <meta content="Breezeway Home" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../css/nftmarketdemo.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Exo:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","PT Sans:400,400italic,700,700italic","Roboto:300,regular,500,700,900"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="../images/favicon.jpg" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.jpg" rel="apple-touch-icon">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
.material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 48
}
  .material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;  /* Preferred icon size */
  display: inline-block;
  line-height: 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;
  /* Support for all WebKit browsers. */
  -webkit-font-smoothing: antialiased;
  /* Support for Safari and Chrome. */
  text-rendering: optimizeLegibility;
  /* Support for Firefox. */
  -moz-osx-font-smoothing: grayscale;
  /* Support for IE. */
  font-feature-settings: 'liga';
}
</style>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.2.7-rc.0/web3.min.js"></script>
  <script src="https://auth.magic.link/sdk"></script>
  <script>
   const magic = new Magic('pk_live_D035B35619F2F52A');
</script>
</head>
<body class="body">
  <div class="page-wrapper">
    <div class="channel-bar-default"><img src="../images/SpikesBreezeway-logo-amed.png" loading="lazy" alt="" class="mm-brand">
      <div id="btn-connect" class="button spike-primary h-a-c">
        <h4 id="connect-text" class="connect_text">Connect Wallet</h4>
      </div>
    </div>
    <div class="main-content-defualt wf-section">
      <div class="container">
        <div class="channel-hero spikes-hero s-m-b-24"><img src="../images/spike-hero.jpg" loading="lazy" sizes="(max-width: 479px) 100vw, 82vw" srcset="../images/spike-hero-p-500.jpg 500w, ../images/spike-hero-p-800.jpg 800w, ../images/spike-hero.jpg 1060w" alt="" class="image-3"></div>
        <div class="main-content-header">
          <div class="breadcrumb s-m-b-64">/spikesbreezeway</div>
          <h3 class="heading xl">Collectible Community</h3>
          <div class="body-text">Learn, imbibe, engage and share in the tiki love. Each collectible is your access to the community! Watch the episodes, make a cocktail and earn your tokens!</div><img src="../images/icon-diagram.png" loading="lazy" alt="" class="s-m-t-48">
        </div>
      </div>
    </div>
  </div>
  <div class="connect-wallet w-embed w-script">
    <script src="https://unpkg.com/web3@latest/dist/web3.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/web3modal"></script>
    <script type="text/javascript" src="https://unpkg.com/evm-chains/lib/index.js"></script>
    <script type="text/javascript" src="https://unpkg.com/@walletconnect/web3-provider"></script>
    <script type="text/javascript" src="https://unpkg.com/fortmatic@2.0.6/dist/fortmatic.js"></script>
    <script>"use strict";
    const api_key = "RSKyF859XgVqhn-XhFCbQ2c_cNtykUcB";
    /**
     * Example JavaScript code that interacts with the page and Web3 wallets
     */
    // Unpkg imports
    const Web3Modal = window.Web3Modal.default;
    const WalletConnectProvider = window.WalletConnectProvider.default;
    const EvmChains = window.EvmChains;
    const Fortmatic = window.Fortmatic;
    let walletAddressSession;
    const baseURL = `https://polygon-mainnet.g.alchemy.com/v2/${api_key}`;
    // Web3modal instance, Chosen wallet provider given by the dialog window, Address of the selected account
    let web3Modal, provider, selectedAccount;
    let accounts = [];
    /**
     * Setup the orchestra
     */
    function init() {
        const providerOptions = {
            walletconnect: {
                package: WalletConnectProvider,
                options: {
                    infuraId: "9d64e0e3b2914ffa8782f865e81c0465",
                }
            },
            fortmatic: {
                package: Fortmatic,
                options: {
                    // Mikko's TESTNET api key
                    key: "pk_test_A3045BC3289C81DB"
                }
            }
        };
        web3Modal = new Web3Modal({
            cacheProvider: false, // optional
            providerOptions, // required
        });
    }
    /**
     * Kick in the UI action after Web3modal dialog has chosen a provider
     */
    async function fetchAccountData() {
        // Get a Web3 instance for the wallet
        const web3 = new Web3(provider);
        // Get connected chain id from Ethereum node
        const chainId = await web3.eth.getChainId();
        // Get list of accounts of the connected wallet
        accounts = await web3.eth.getAccounts();
        // MetaMask does not give you all accounts, only the selected account
        selectedAccount = accounts[0];
        // Go through all accounts and get their ETH balance
        const rowResolvers = accounts.map(async (address) => {
            //const balance = await web3.eth.getBalance(address);
            saveWalletToLocal(address);
            walletAddressSession = address;
            // CHECK for Spike's NFT's (Spikes Breezeway Cockttail Hour)
            fetchNFTs();
        });
        // Because rendering account does its own RPC commucation
        // with Ethereum node, we do not want to display any results
        // until data for all accounts is loaded
        await Promise.all(rowResolvers);
    }
    /**
     * Fetch account data for UI when
     * - User switches accounts in wallet
     * - User switches networks in wallet
     * - User connects wallet initially
     */
    async function refreshAccountData() {
        // Disable button while UI is loading.
        // fetchAccountData() will take a while as it communicates
        // with Ethereum node via JSON-RPC and loads chain data
        // over an API call.
        document.querySelector("#btn-connect").setAttribute("disabled", "disabled")
        await fetchAccountData(provider);
        document.querySelector("#btn-connect").removeAttribute("disabled")
    }
    /**
     * Connect wallet button pressed.
     */
    async function onConnect() {
        console.log("Opening a dialog", web3Modal);
        try {
            provider = await web3Modal.connect();
        } catch (e) {
            console.log("Could not get a wallet connection", e);
            return;
        }
        // Subscribe to accounts change
        provider.on("accountsChanged", (accounts) => {
            fetchAccountData();
        });
        // Subscribe to chainId change
        provider.on("chainChanged", (chainId) => {
            fetchAccountData();
        });
        // Subscribe to networkId change
        provider.on("networkChanged", (networkId) => {
            fetchAccountData();
        });
        await refreshAccountData();
    }
    const fetchNFTs = async () => {
        const url = `${baseURL}/getNFTs?owner=${walletAddressSession}&pageSize=100&contractAddresses[]=0xAB969631D0Bc685138Ef8b2fd5a1CBe65DA75cAf&withMetadata=false`;
        let nfts;
        var requestOptions = {
            method: 'get',
            redirect: 'follow',
            headers: {
                accept: 'application/json'
            }
        };
        nfts = await fetch(url, requestOptions).then(data => data.json())
        if (nfts) {
            console.log('nfts', nfts)
            if(nfts.totalCount >= 1) {
                window.location.replace('breezeway-episode');
            }
        }
    }
    async function saveWalletToLocal(localAddress) {
        localStorage.setItem("wallet", localAddress);
        walletAddressSession = localAddress;
    }
    /**
     * Main entry point.
     */
    window.addEventListener('load', async () => {
        init();
        $("#btn-connect").on("click", () => { onConnect() });
        //$("#btn-disconnect").on("click", () => { onDisconnect() });
        //fetchNFTs();
    });
</script>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=639024fd069fb03ef637fdfb" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <script>
  let privatePages = [
    '/profile',
    '/user-dash',
    '/'
  ];
  let publicPages = [
    '/login'
  ]
  const getUser = async () => {
    const currentPath = window.location.pathname;
    const isLoggedIn = await magic.user.isLoggedIn();
    if (isLoggedIn) {
      if (publicPages.includes(currentPath)) {
        window.location.replace('/');
      } else {
        loginLink.style.display = 'none';
      }
    } else {
      if (privatePages.includes(currentPath)) {
        window.location.replace('/');
      } else {
        profileLink.style.display = 'none';
        logOutLink.style.display = 'none';
        homeLink.style.display = 'none';
      }
    }
    loader.style.display = 'none';
  };
</script>
</body>
</html>